<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"><!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Inicio de sesión</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link rel="icon" href="/static/img/iconoiglesia.png" type="image/x-icon">

    </head>
    <style>
    .fondo{
        background-image: url('/static/img/catedral.webp');
        background-size: cover;
        background-position: -120px;
        height: 100vh;
        border-radius: 10000px 0px 0px 0px;
        overflow: hidden;
    }
    .cls_inputs{
        border-top: none !important;
        border-left: none !important;
        border-right: none !important;
        border-bottom: solid 1px !important;
        box-shadow: 22px !important;
    }
    

    #box_login{ 
        border-radius: 12px;
    }
    *body{
        background-color: #eff5f307;
        font-family: 'Poppins', sans-serif;
        font-size: 14px;
    }
     
    </style>
    <body>
        <div class="container-fluid g-0">
            <div class="row g-0">
                <div class="col-5 bg-uno">
                    <div class="d-flex justify-content-center align-items-center min-vh-100 ">
                        <div class="col-lg-10  col-sm-8 col-md-8 col-7  mx-auto  pt-4 pe-4 ps-4 pb-4" id="box_login">
                            <h2 class="text-center  ">Iniciar sesión</h2>
                            <div class="mx-auto d-flex justify-content-center align-items-center text-center" style="font-size: 60px;" >
                                <img src="/static/img/Imagen1.jpg" alt="" style="width: 150px; height: 150px; border-radius: 50%;">
                            </div>
                            <form action="/verificarusuario" class="mt-2" method="post">
                                <div class="mb-3">
                                    <label for="dni22" class="form-label"><strong>DNI de usuario:</strong></label>
                                    <input type="text" class="form-control cls_inputs" id="dni22" name="dni22" placeholder="Ingrese su DNI de usuario" required>
                                </div>
                                <div class="mb-3">
                                    <label for="password22" class="form-label"><strong>Contraseña:</strong></label>
                                    <input type="password" class="form-control cls_inputs " id="password22" name="password22" placeholder="Ingrese su contraseña" required>
                                </div>
                                <button type="submit" class="btn btn-primary w-100 mt-2">Iniciar sesión</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-7 bg-uno">
                    <div class="fondo">
                    
                    </div>
                </div>
            </div>
            {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div id="flash-alert" class="alert alert-danger alert-dismissible fade show w-25" style="position: absolute; bottom: 0; right: 12px;" role="alert">
                    {{ messages[0] }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" style="position: absolute; right: 12px;"></button>
                </div>
            {% endif %}
            {% endwith %}
        </div>
    </body>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
        var alert = document.getElementById('flash-alert');
        if (alert) {
            setTimeout(function () {
                alert.classList.remove('show');
                alert.classList.add('fade');
            }, 2000);
        }
        });
    
        window.addEventListener('pageshow', function(event) {
        if (event.persisted) {
            borrarCookies();
            location.reload();
        }
        });
    
        history.pushState(null, null, window.location.href);
    
        function borrarCookies() {
        const cookies = document.cookie.split(";");
        cookies.forEach(function(cookie) {
            const cookieName = cookie.split("=")[0].trim();
            document.cookie = cookieName + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
        });
    }
    
    </script>
    </html>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block titulo %} Inicio de sesión {% endblock %} </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/static/css/inicio_sesion.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://unpkg.com/just-validate@latest/dist/just-validate.production.min.js"></script>
    <link rel="shortcut icon" href="/static/img/iconoiglesia.png" type="image/x-icon"></head>
</head>
<body>
    <div class="container-fluid">
        <div class="row ">
            <div class="col-lg-12 col-12" id="presentacion">
                <div class="row">
                    <div class="col-lg-4 col-sm-7 col-md-6 col-6" id="caja_inicio">
                        <h2 class="text-center">Iniciar sesión</h2>
                        <form action="/verificarusuario" method="post">
                            <div class="mb-3">
                                <label for="username" class="form-label">Dni de usuario</label>
                                <input type="text" class="form-control" id="dni22" name="dni22" placeholder="Ingrese su dni de usuario" required>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Contraseña</label>
                                <input type="password" class="form-control" id="password22" name="password22" placeholder="Ingrese su contraseña" required>
                            </div>
                            <!----<div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="rememberMe">
                                <label class="form-check-label" for="rememberMe">Recordarme</label>
                                <br>
                                <div class="text-end">
                                    <a href="{{ url_for('crearcuenta') }}" class="">Crear cuenta</a>
                                </div>
                            </div>
                            !---->
                            <button type="submit" class="btn btn-primary w-100">Iniciar sesión</button>
                        </form>
                    </div>

                </div> 
                
            </div>
            {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div id="flash-alert" class="alert alert-danger alert-dismissible fade show w-25" style="position: absolute; bottom: 0; right: 12px;" role="alert">
                    {{ messages[0] }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" style="position: absolute; right: 12px;"></button>
                </div>
            {% endif %}
            {% endwith %}
    
        </div>

    </div>
    
</body>
<script>
    document.addEventListener('DOMContentLoaded', function () {
    var alert = document.getElementById('flash-alert');
    if (alert) {
        setTimeout(function () {
            alert.classList.remove('show');
            alert.classList.add('fade');
        }, 2000);
    }
    });

    window.addEventListener('pageshow', function(event) {
    if (event.persisted) {
        borrarCookies();
        location.reload();
    }
    });

    history.pushState(null, null, window.location.href);

    function borrarCookies() {
    const cookies = document.cookie.split(";");
    cookies.forEach(function(cookie) {
        const cookieName = cookie.split("=")[0].trim();
        document.cookie = cookieName + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
    });
}

</script>
</html>
